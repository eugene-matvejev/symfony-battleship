services:
  # Models
  battleship.game.services.cell.model:
    class: EM\GameBundle\Model\CellModel
    arguments:
      - "@doctrine.orm.entity_manager"
  battleship.game.services.player.model:
    class: EM\GameBundle\Model\PlayerModel
    arguments:
      - "@doctrine.orm.entity_manager"
  battleship.game.services.game.model:
    class: EM\GameBundle\Model\GameModel
    arguments:
      - "@doctrine.orm.entity_manager"
      - "@battleship.game.services.cell.model"
      - "@battleship.game.services.player.model"
      - "@battleship.game.services.ai.core"
      - "@battleship.game.services.ai.strategy.service"
#      - "@logger"
  battleship.game.services.statistics.model:
    class: EM\GameBundle\Model\StatisticsModel
    arguments:
      - "@doctrine.orm.entity_manager"
      - %battleship.config.statistics.results.per.page%
  # AI
  battleship.game.services.ai.core:
    class: EM\GameBundle\AI\AI
    arguments:
      - "@battleship.game.services.cell.model"
      - "@battleship.game.services.ai.strategy.service"
      - "@logger"
  battleship.game.services.ai.strategy.service:
    class: EM\GameBundle\AI\AIStrategy
    arguments:
      - %battleship.config.ship.size.min%
      - %battleship.config.ship.size.max%
      - "@battleship.game.services.cell.model"
#      - "@logger"
#  # Repositories
#  battleship.game.services.battlefield.repository:
#    class: EM\GameBundle\Repository\BattlefieldRepository
#    factory: ["@doctrine.orm.entity_manager", getRepository]
#    arguments:
#      - GameBundle\Entity\Battlefield
#  battleship.game.services.cell.repository:
#    class: Doctrine\ORM\EntityRepository
#    factory: [@doctrine.orm.entity_manager, getRepository]
#    arguments:
#      - GameBundle\Entity\Cell
#  battleship.game.services.cell.state.repository:
#    class: Doctrine\ORM\EntityRepository
#    factory: [@doctrine.orm.entity_manager, getRepository]
#    arguments:
#      - GameBundle\Entity\CellState
#  battleship.game.services.game.repository:
#    class: Doctrine\ORM\EntityRepository
#    factory: [@doctrine.orm.entity_manager, getRepository]
#    arguments:
#      - GameBundle\Entity\Game
#  battleship.game.services.game.result.repository:
#    class: EM\GameBundle\Repository\GameResultRepository
#    factory: ["@doctrine.orm.entity_manager", getRepository]
#    arguments:
#      - EM\GameBundle\Entity\GameResult
#  battleship.game.services.player.repository:
#    class: Doctrine\ORM\EntityRepository
#    factory: [@doctrine.orm.entity_manager, getRepository]
#    arguments:
#      - GameBundle\Entity\Player
#  battleship.game.services.player.type.repository:
#    class: Doctrine\ORM\EntityRepository
#    factory: [@doctrine.orm.entity_manager, getRepository]
#    arguments:
#      - GameBundle\Entity\PlayerType